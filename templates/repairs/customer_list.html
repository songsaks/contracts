{% extends 'base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto space-y-6">
    <div class="flex items-center justify-between">
        <h1 class="text-2xl font-bold text-gray-900">Customers</h1>
        <a href="{% url 'repairs:customer_create' %}"
            class="px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">Add
            Customer</a>
    </div>

    <div class="bg-white shadow overflow-hidden sm:rounded-md">
        <ul class="divide-y divide-gray-200">
            {% for customer in customers %}
            <li>
                <div class="px-4 py-4 sm:px-6 flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-indigo-600 truncate">{{ customer.name }}</p>
                        <p class="text-sm text-gray-500">{{ customer.customer_code }} | {{ customer.contact_number }}
                        </p>
                    </div>
                    <div>
                        <a href="{% url 'repairs:repair_create' %}?customer_id={{ customer.id }}"
                            class="inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700">
                            Create Job
                        </a>
                    </div>
                </div>
            </li>
            {% empty %}
            <li class="px-4 py-4 text-gray-500 text-center">No customers found.</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}